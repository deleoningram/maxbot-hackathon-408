# Лесной Фокус - Бот продуктивности для MAX. Разработка команды CHAT-aclysm4

Чат-бот для мессенджера MAX, который помогает повысить концентрацию и продуктивность через механику выращивания виртуального леса. Каждая сессия сфокусированной работы выращивает новое растение в вашем лесу.

## Описание проекта

Лесной Фокус использует игровую механику для мотивации пользователей к регулярным сессиям концентрированной работы. Бот реализует метод Pomodoro с визуализацией прогресса через коллекцию растений, систему серий (daystreak) и достижения.

### Основные функции

- Сессии фокусировки с таймером (15, 25, 50 минут)
- Система выращивания растений - каждая завершенная сессия награждает пользователя растущим виртуальным растением
- Прогрессивная разблокировка 12 видов растений
- Система серий для поддержания ежедневной мотивации
- Механизм "заморозки серии" для предотвращения потери прогресса
- Детальная статистика времени фокуса и выращенных растений
- Система достижений

### Целевая аудитория

Профессионалы в возрасте от 25 до 35 лет:
- Менеджеры проектов и удаленные сотрудники
- Студенты и молодые специалисты
- Люди, стремящиеся к личному развитию и самосовершенствованию

## Технические требования

- Python 3.11 или выше
- Токен бота MAX messenger
- Зависимости указаны в requirements.txt

## Локальная установка

### 1. Клонирование репозитория
```bash
git clone https://github.com/deleoningram/max-hackathon-bot-408.git
cd max-hackathon-bot-408
```

### 2. Создание виртуального окружения
```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 4. Настройка переменных окружения

Создайте файл `.env` в корневой директории проекта:
```bash
cp .env.example .env
nano .env
```

Добавьте ваш токен бота:
```
BOT_TOKEN=ваш_токен_здесь
```

Для получения токена:
1. Перейдите на платформу MAX для бизнеса: https://business.max.ru/self
2. Создайте нового бота или используйте существующего
3. Скопируйте токен из раздела "Чат-бот и мини-приложение"

### 5. Запуск бота
```bash
python3 bot_modernized.py
```

При успешном запуске вы увидите:
```
Лесной Фокус бот запускается...
База данных инициализирована
Доступно растений: 12
Бот запущен!
```

## Развертывание через Docker

## Получение готового Docker образа

### Вариант 1: через Docker Hub
```bash
# Скачать образ
docker pull deleoningram/forest-focus-bot:latest

# Запустить
docker run -e BOT_TOKEN=ваш_токен deleoningram/forest-focus-bot:latest
```

### Вариант 2: Загрузка tar.gz файла

Через сжатый файл `forest-focus-bot.tar.gz`:
```bash
# Распаковать
gunzip forest-focus-bot.tar.gz

# Загрузить в Docker
docker load -i forest-focus-bot.tar

# Запустить
docker run -e BOT_TOKEN=ваш_токен forest-focus-bot:latest
```

### Запуск с сохранением данных

Для сохранения данных пользователей между перезапусками:
```bash
docker run -d \
  -e BOT_TOKEN=ваш_токен \
  -v $(pwd)/data:/app/data \
  --name forest-focus \
  --restart unless-stopped \
  forest-focus-bot:latest
```

### Проверка логов
```bash
# Просмотр логов контейнера
docker logs forest-focus

# Следить за логами в реальном времени
docker logs -f forest-focus
```

### Остановка и удаление
```bash
# Остановить контейнер
docker stop forest-focus

# Удалить контейнер
docker rm forest-focus

# Удалить образ
docker rmi forest-focus-bot:latest
```

### Структура проекта
```
max-hackathon-bot-408/
├── bot_modernized.py      # Основная логика бота
├── database.py            # Управление данными пользователей
├── plants.py              # Система растений и достижений
├── localization.py        # Русская локализация интерфейса
├── requirements.txt       # Python зависимости
├── Dockerfile            # Конфигурация Docker
├── .env.example          # Шаблон переменных окружения
├── .gitignore           # Исключения для Git
└── README.md            # Документация проекта
```

## Используемые технологии

- **Python 3.11** - основной язык разработки
- **maxgram** - библиотека для работы с MAX Bot API
- **python-dotenv** - управление переменными окружения
- **JSON** - хранение данных пользователей (масштабируется до PostgreSQL)
- **Docker** - контейнеризация приложения

## Архитектура данных

Бот использует файловую систему хранения на базе JSON для MVP. Структура данных пользователя включает:

- Профиль пользователя с языковыми настройками
- Коллекция выращенных растений
- Статистика активности (время фокуса, количество растений, серии)
- Текущая сессия и её параметры
- Заработанные достижения
- Персональные предпочтения

## Система прогрессии

### Разблокировка растений

- **Бесплатный уровень** - 5 базовых растений (0-10 выращенных)
- **Бронзовый уровень** - дополнительные виды (15-25 растений)
- **Серебряный уровень** - редкие растения (30-50 растений)
- **Золотой уровень** - эксклюзивные виды (60+ растений, требуется премиум)

### Достижения за активность

- Первый росток - вырастить первое растение
- Неделя продуктивности - серия 7 дней
- Строитель леса - вырастить 100 растений
- Мастер концентрации - накопить 1000 минут фокуса

## Особенности реализации

### Метод Pomodoro

Таймер основан на проверенной методике Pomodoro, можно выбрать:
- Короткие сессии (15 минут)
- Стандартные сессии (25 минут) по классической методике
- Длинные сессии (50 минут)

### Механика серий

Система серий включает защитные механизмы:
- Автоматический подсчет последовательных дней активности
- "Заморозка серии" - возможность пропустить день без потери прогресса
- Отображение текущей и рекордной серии
- Уведомления о риске прерывания серии

## Безопасность

- Данные пользователей хранятся локально в формате JSON
- Поддержка миграции на PostgreSQL для продакшн-развертывания

## Известные ограничения

- Таймер сессий полагается на действия пользователя (нет автоматического завершения)

## Планы развития

### Краткосрочные цели

- Расширение коллекции растений до 50+ видов
- Социальные функции (совместное выращивание с друзьями)

### Долгосрочная стратегия

- Корпоративная версия для команд
- Реальная посадка деревьев через партнерство с экологическими организациями
- Монетизация через премиум-подписку (299 руб/месяц)

## Монетизация

### Freemium модель

- **Бесплатная версия** - базовые функции, 5 видов растений
- **Премиум (299 руб/мес)** - все растения, расширенный функционал
- **Пожизненная лицензия (1000 руб)** - единоразовая покупка всех функций

### Целевые показатели

- Год 1: 100,000 установок, 5,000 платных пользователей
- Год 2: 500,000 установок, 50,000 платных пользователей
- Год 3: 1,000,000+ установок, 150,000 платных пользователей

## Вклад в проект

Проект был выполнен тремя студентами магистратуры 2 курса университета ИТМО, программы "Технологии и Стратегии Бизнес-трансформации" в рамках хакатона для мессенджера MAX. 
Команда CHAT-aclysm4: Мочалова Екатерина(Идея приложения и анализ рынка); Антипов Владимир(Документация и презентация); Попов Дмитрий(Разработка и руководство проектом). 
Это было для нас отличной возможностью попробовать себя в чем-то новом, получить опыт разработки и интересно провести время.

## Лицензия

Этот проект создан исключительно в образовательных целях для хакатона. Все права на использование торговых марок MAX и VK принадлежат их владельцам.

## Контакты

Для вопросов о проекте обращайтесь через Issues на GitHub.

## Благодарности

- VK Education и организаторам хакатона за возможность участия
- Команде MAX за предоставление платформы и документации
- Сообществу разработчиков MAX DevChat за техническую поддержку
- Нашей команде и друзьям!
